@model SubmitReviewViewModel

@{
    ViewData["Title"] = "Submit Review";
}
<body>
    <div class="main">
        <div class="container mt-4">
            <div class="card shadow-lg p-4 bg-dark text-light">
                <h3 class="mb-3"><i class="bi bi-journal-check"></i> Applicant Review Form</h3>
                <h4 class="mb-3 d-flex align-items-center justify-content-between">
                    <span><i class="bi bi-person"></i> Applicant: @Model.ApplicantFullName</span>

                    <a asp-action="ApplicantDetails"
                       asp-controller="Applicant"
                       asp-route-nnumber="@Model.Nnumber"
                       target="_blank"
                       class="btn btn-success btn-sm"
                       style="border: 2px solid black;">
                        <i class="bi bi-box-arrow-up-right"></i> View Details
                    </a>
                </h4>
                <hr class="border-light" />

                <form asp-action="SubmitReview" method="post">
            
                    <!-- Error message for incomplete review form -->
                    @if (!ViewData.ModelState.IsValid)
                    {
                        <div class="alert alert-danger">
                            <strong>Please complete all required fields before submitting. Comments are optional.</strong>
                        </div>
                    }
                   <!-- Hidden Inputs -->
                   @Html.HiddenFor(m => m.ReviewNumber)
         
                    <!-- Resume & Research -->
                    <fieldset class="border rounded p-3 mb-3">
                        <legend class="fw-bold"><i class="bi bi-file-person"></i> Resume & Research</legend>
                        <div class="row mb-2">
                            <div class="col-md-4">
                                <label asp-for="ResumeQuality" class="form-label"><i class="bi bi-star-fill me-1"></i> Resume/CV Quality</label>
                                <select asp-for="ResumeQuality" class="form-control">
                                    <option value="">-- Select --</option>
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label asp-for="ResExpQuality" class="form-label"><i class="bi bi-flask me-1"></i> Research Experience Quality</label>
                                <select asp-for="ResExpQuality" class="form-control">
                                    <option value="">-- Select --</option>
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label asp-for="ResumeComments" class="form-label"><i class="bi bi-chat-dots me-1"></i> Comments</label>
                                <textarea asp-for="ResumeComments" class="form-control" rows="1"></textarea>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Statement of Purpose -->
                    <fieldset class="border rounded p-3 mb-3">
                        <legend class="fw-bold"><i class="bi bi-envelope-paper-heart"></i> Statement of Purpose</legend>
                        <div class="row mb-2">
                            <div class="col-md-4">
                                <label asp-for="LetterQuality" class="form-label"><i class="bi bi-star-fill me-1"></i> Statement Quality</label>
                                <select asp-for="LetterQuality" class="form-control">
                                    <option value="">-- Select --</option>
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col-md-8">
                                <label asp-for="LetterComments" class="form-label"><i class="bi bi-chat-dots me-1"></i> Comments</label>
                                <textarea asp-for="LetterComments" class="form-control"></textarea>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Writing Sample -->
                    <fieldset class="border rounded p-3 mb-3">
                        <legend class="fw-bold"><i class="bi bi-pencil-square"></i> Writing Sample</legend>
                        <div class="row mb-2">
                            <div class="col-md-4">
                                <label asp-for="WritingSampleQuality" class="form-label"><i class="bi bi-star-fill me-1"></i> Quality</label>
                                <select asp-for="WritingSampleQuality" class="form-control">
                                    <option value="">-- Select --</option>
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col-md-8">
                                <label asp-for="WritingSampleComments" class="form-label"><i class="bi bi-chat-dots me-1"></i> Comments</label>
                                <textarea asp-for="WritingSampleComments" class="form-control"></textarea>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Letter of Recommendation -->
                    <fieldset class="border rounded p-3 mb-3">
                        <legend class="fw-bold"><i class="bi bi-person-hearts"></i> Letters of Recommendation</legend>
                        <div class="row mb-2">
                            <div class="col-md-4">
                                <label asp-for="LORRelevance" class="form-label"><i class="bi bi-bookmark-star me-1"></i> Relevance</label>
                                <select asp-for="LORRelevance" class="form-control">
                                    <option value="">-- Select --</option>
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label asp-for="LORQuality" class="form-label"><i class="bi bi-star-fill me-1"></i> Quality</label>
                                <select asp-for="LORQuality" class="form-control">
                                    <option value="">-- Select --</option>
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label asp-for="LORComments" class="form-label"><i class="bi bi-chat-dots me-1"></i> Comments</label>
                                <textarea asp-for="LORComments" class="form-control" rows="1"></textarea>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Overall Fit -->
                    <fieldset class="border rounded p-3 mb-3">
                        <legend class="fw-bold"><i class="bi bi-person-badge"></i> Overall Fit</legend>
                        <div class="row mb-2">
                            <div class="col-md-4">
                                <label asp-for="OverallFitQuality" class="form-label"><i class="bi bi-star-fill me-1"></i> Fit Quality</label>
                                <select asp-for="OverallFitQuality" class="form-control">
                                    <option value="">-- Select --</option>
                                    @for (int i = 1; i <= 5; i++)
                                    {
                                        <option value="@i">@i</option>
                                    }
                                </select>
                            </div>
                            <div class="col-md-8">
                                <label asp-for="OverallFitComments" class="form-label"><i class="bi bi-chat-dots me-1"></i> Comments</label>
                                <textarea asp-for="OverallFitComments" class="form-control"></textarea>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Final Decision -->
                    <fieldset class="border rounded p-3 mb-3">
                        <legend class="fw-bold"><i class="bi bi-clipboard-check"></i> Final Decision</legend>

                        <div class="mb-3">
                            <label asp-for="DecisionRecommendation" class="form-label">
                                <i class="bi bi-clipboard-data me-1"></i> Recommendation
                            </label>
                            <select asp-for="DecisionRecommendation" class="form-control">
                                <option value="">-- Select --</option>
                                <option value="Admit">Admit</option>
                                <option value="Waitlist">Waitlist</option>
                                <option value="Do Not Admit">Do Not Admit</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label asp-for="FollowUpRequired" class="form-label">
                                <i class="bi bi-arrow-repeat me-1"></i> Follow-Up Required?
                            </label>
                            <select asp-for="FollowUpRequired" class="form-control">
                                <option value="">-- Select --</option>
                                <option value="false">No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label asp-for="FinalComments" class="form-label">
                                <i class="bi bi-chat-dots me-1"></i> Final Comments
                            </label>
                            <textarea asp-for="FinalComments" class="form-control" rows="3"></textarea>
                        </div>
                    </fieldset>

                    <!-- Buttons -->
                    <div class="d-flex justify-content-between">
                        <button type="button" class="btn btn-lg" onclick="history.back()" style="background-color: red; color: white; border: 2px solid black; text-shadow: 1px 1px 2px black;">
                            <i class="bi bi-x-circle"></i> Cancel Review
                        </button>
                        <button type="submit" class="btn btn-lg" style="background-color: green; color:white; border: 2px solid black; text-shadow: 1px 1px 2px black;">
                            <i class="bi bi-save"></i> Submit Review
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>