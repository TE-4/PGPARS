@model IEnumerable<PGPARS.Models.Funding>

<div class="main">
    <div class="container-opaque">
        <h2>Funding Directory</h2>
        <a asp-action="AddFunding" class="btn btn-success mb-3">Add New Funding</a> <!-- Add button -->

        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Amount</th>
                    <th>Applicant</th>
                    <th>Actions</th> <!-- Add Actions column -->
                </tr>
            </thead>
            <tbody>
                @foreach (var fund in Model)
                {
                    <tr>
                        <td>@fund.Name</td>
                        <td>@fund.Amount</td>
                        <td>
                            @if (fund.Applicant == null)
                            {
                                <a asp-action="Assign" asp-route-fundingId="@fund.FundingID" class="btn btn-primary">Assign</a>
                            }
                            else
                            {
                                @fund.Applicant
                            }
                        </td>
                        <td>
                            <a asp-action="EditFunding" asp-route-id="@fund.FundingID" class="btn btn-warning">Edit</a> <!-- Edit button -->
                            <form asp-action="DeleteFunding" asp-route-id="@fund.FundingID" method="post" style="display:inline;">
                                <button type="submit" class="btn btn-danger"
                                        onclick="return confirm('Are you sure you want to delete this funding?');">
                                    Delete
                                </button>
                            </form> <!-- Delete button -->
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
