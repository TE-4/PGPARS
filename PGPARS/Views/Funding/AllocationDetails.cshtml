@model PGPARS.Models.FundingAllocation

<div class="main">
    <div class="container-opaque">
        <div class="text-center text-outline p-3">
            <h2><i class="bi bi-cash-stack"></i> Allocation Details</h2>
            <div class="funding-summary">
                <p><strong>@ViewBag.ApplicantName</strong> was assigned <strong>@ViewBag.Amount?.ToString("C")</strong> from <strong>@ViewBag.Source</strong> with Funding Type <strong>@ViewBag.FundType</strong></p>
                <p>Allocated Amount: <strong>@ViewBag.Amount?.ToString("C")</strong></p>
                <p>Remaining Funding Amount: <strong>@ViewBag.RemainingAmount?.ToString("C")</strong></p>
            </div>

        </div>
    </div>

    <br />

    <div class="container">
        <div class="card shadow-lg p-4 bg-dark text-light">

            <!-- Allocation Information -->
            <fieldset class="border rounded p-3">
                <legend class="fw-bold"><i class="bi bi-person"></i> Applicant Information</legend>
                <hr class="border-light" />

                <p>
                    <strong>Name:</strong>
                    <a asp-action="ApplicantDetails" asp-controller="Applicant" asp-route-Nnumber="@Model.Nnumber" style="color: white; text-decoration: none;">
                        @(Model.Applicant?.FirstName ?? "Unknown") @(Model.Applicant?.LastName ?? "")
                    </a>
                    &nbsp;|&nbsp; <!-- Optional: Add separator between name and number -->
                    <strong>N Number:</strong> @Model.Nnumber
                </p>
            </fieldset>


            <fieldset class="border rounded p-3 mt-4">
                <legend class="fw-bold"><i class="bi bi-currency-dollar"></i> Allocation Details</legend>
                <hr class="border-light" />
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label class="form-label"><i class="bi bi-currency-dollar"></i> Allocated Amount</label>
                        <p>@Model.AllocatedAmount.ToString("C")</p>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label"><i class="bi bi-cash"></i> Stipend Value</label>
                        <p>@(Model.StipendValue?.ToString("C") ?? "N/A")</p>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label"><i class="bi bi-card-checklist"></i> Tuition Waiver</label>
                        <p>@(Model.TuitionWaiver.HasValue ? (Model.TuitionWaiver.Value ? "Yes" : "No") : "N/A")</p>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label class="form-label"><i class="bi bi-tag"></i> Tuition Waiver Type</label>
                        <p>@Model.TuitionWaiverType</p>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label"><i class="bi bi-info-circle"></i> Status</label>
                        <p>@Model.Status</p>
                    </div>
                </div>
            </fieldset>


            <fieldset class="border rounded p-3 mt-4">
                <legend class="fw-bold"><i class="bi bi-chat-left-text"></i> Notes</legend>
                <hr class="border-light" />
                <div class="row mb-3">
                    <div class="col-md-12">
                        <p>@Model.AllocatedNotes</p>
                    </div>
                </div>
            </fieldset>

            <!-- Back Button -->
            <div class="d-flex justify-content-between mt-4">
                <a asp-action="FundingAllocations" class="btn btn-outline-light">
                    <i class="bi bi-arrow-left-circle"></i> Back to Allocations
                </a>
            </div>
        </div>
    </div>
</div>
